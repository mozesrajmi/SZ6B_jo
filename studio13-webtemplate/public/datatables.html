<link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.css" />
<script src="https://cdn.datatables.net/2.0.3/js/dataTables.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    // DataTable inicializálása keresési opcióval
    var table = $('#myTable').DataTable({
        searchDelay: 0, // Késleltetés kikapcsolása, azonnal reagáljon a keresés
        autoWidth: false, // Automatikus szélesség állítás kikapcsolása
        responsive: true  // Táblázat legyen érzékeny, mobilbarát
    });
 
    $('#myTable tbody').on('click', 'tr', function () {
        console.log(table.row(this).data());
    });


    // Adatok betöltése AJAX segítségével
    $.ajax({
        url: '/getData',  // A szerver útvonala, ahonnan az adatokat lekérjük
        method: 'GET',
        success: function(data) {
            // Az adatok hozzáadása a DataTable-hez
            data.rows.forEach(function(row) { 
                table.row.add([
                    row.NEV,
                    row.TAJ,
                    row.SZULDATUM
                ]).draw(false);  // false azt jelenti, hogy nem frissítjük azonnal a táblázatot, a végén egyszerre frissítünk
            });

            table.draw();  // Végső frissítés, hogy az adatok megjelenjenek
        }
    });
});
</script>

<body>
    <h2>Név Táblázat</h2>
    <table id="myTable" class="display" style="width:80%">
        <thead>
            <tr>
                <th>Név</th>
                <th>Tajszám</th>
                <th>Születési dátum</th>
            </tr>
        </thead>
        <tbody>
            <!-- Az adatokat JavaScript tölti be ide -->
        </tbody>
    </table>
</body>